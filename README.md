https://github.com/dattivo/gate-simulation